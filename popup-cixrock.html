<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cixrock Radio</title>
  <style>
    body {
      margin: 0;
      padding: 10px;
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f9f9f9;
    }
    #song-title {
      font-weight: bold;
      font-size: 0.9em;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <!-- Reproductor de Muses -->
  <script src="https://hosted.muses.org/mrp.js"></script>
  <script>
    MRP.insert({
      'url': 'https://fpsnew1.listen2myradio.com:2199/listen.php?ip=82.145.63.6&port=6627&type=s2&mount=1',
      'lang': 'es',
      'volume': 50,
      'autoplay': false,
      'forceHTML5': true,
      'jsevents': true,
      'buffering': 0,
      'title': 'Cixrock Records',
      'wmode': 'transparent',
      'skin': 'scradio',
      'width': 160,
      'height': 100
    });
  </script>

  <!-- Título dinámico de la canción -->
  <div id="song-title">Cargando canción...</div>

  <script>
    function actualizarCancion() {
      const proxyURL = 'https://blogspot-proxy.onrender.com/song';

      fetch(proxyURL)
        .then(res => res.text())
        .then(data => {
          document.getElementById('song-title').textContent = data || 'Sin información';
        })
        .catch(() => {
          document.getElementById('song-title').textContent = 'Estás escuchando...';
        });
    }

    setInterval(actualizarCancion, 5000); // Menor frecuencia reduce carga
    actualizarCancion();
  </script>
</body>
</html>
